<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<title>Multi Browser Opener</title>
	<link rel="stylesheet" type="text/css" href="./css/bootstrap-honoka.min.css">
	<link rel="stylesheet" type="text/css" href="./css/bootstrap-honoka-hack.css">
	<link rel="stylesheet" type="text/css" href="./css/bootstrap-customize.css">
	<link rel="stylesheet" type="text/css" href="./css/menu.css">
	<script type="text/javascript"> jQuery = $ = require('./js/jquery-2.1.4.min'); </script>
</head>
<body class="body-menu gray-lighter">
	<div id="bg" class="menu container">
		<div id="header-bg">
			<h3 id="header" class="pull-left">
				Multi Browser Opener
			</h3>
			<div class="buttons pull-right">
				<button class="glyphicon glyphicon-refresh btn btn-primary btn-xs" aria-hidden="true" id="button-reload"></button>
				<button class="glyphicon glyphicon-remove btn btn-danger btn-xs" aria-hidden="true" id="button-quit"></button>
				<!--
				<button class="glyphicon glyphicon-remove btn btn-default btn-xs" aria-hidden="true" id="button-close"></button>
				-->
			</div>
		</div>
		<div id="accounts-bg">
			<table class="table table-striped table-bordered accounts" id="accounts">
				<tbody>
<!--
					<tr class="row clearfix" data-toggle="tooltip" id="account1">
						<td class="text-center"><span>1</span></td>
						<td class="text-left">
							<span class="icon"><img src="./img/ifollow-favicon-32.ico"></span>
							<a href="javascript:void(0);">
								Masaki.Hojo@gmail.com
							</a>
							<div class="hide tooltip-html">
								<dl class="dl-horizontal">
									<dt><span class="icon"><img src="./img/ifollow-favicon-32.ico"></span></dt>
									<dd>Masaki.Hojo@gmail.com</dd>
									<dt><span class="icon"><img src="https://www.google.com/favicon.ico"></span></dt>
									<dd>https://calendar.google.com/calendar/render</dd>
								</dl>
							</div>
							<div class="btn-group pull-right">
								<button type="button" class="btn btn-success btn-xs text-uppercase"><span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> &nbsp; Open &nbsp;</button>
								<button type="button" class="btn btn-success btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" tabindex="0">
									<span class="caret"></span>
									<span class="sr-only">Toggle Dropdown</span>
								</button>
								<ul class="dropdown-menu dropdown-menu-right">
									<li class="small">
										<a href="javascript:alert(this.className);">
											<span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> &nbsp; Open Window
										</a>
									</li>
									<li class="divider" role="separator"></li>
									<li class="small">
										<a href="javascript:alert(this.className);">
											<span class="glyphicon glyphicon-cog" aria-hidden="true"></span> &nbsp; Edit This Account
										</a>
									</li>
									<li class="small">
										<a href="javascript:alert(this.className);">
											<span class="glyphicon glyphicon-triangle-top" aria-hidden="true"></span> &nbsp; Up
										</a>
									</li>
									<li class="small">
										<a href="javascript:alert(this.className);">
											<span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true"></span> &nbsp; Down
										</a>
									</li>
									<li class="divider" role="separator"></li>
									<li class="small">
										<a href="javascript:alert(this.className);">
											<span class="glyphicon glyphicon-remove" aria-hidden="true"></span> &nbsp; Remove This Account
										</a>
									</li>
								</ul>
							</div>
						</td>
					</tr>
					<tr class="row clearfix" data-toggle="tooltip" id="account2">
						<td class="text-center"><span>2</span></td>
						<td class="text-left"  >
							<span class="icon"><img src="./img/favicon.ico"></span>
							<a href="javascript:void(0);">
								hojo@ifollow.co.jp
							</a>
							<div class="hide tooltip-html">
								<dl class="dl-horizontal">
									<dt><span class="icon"><img src="./img/favicon.ico"></span></dt>
									<dd>hojo@ifollow.co.jp</dd>
									<dt><span class="icon"><img src="https://www.google.com/favicon.ico"></span></dt>
									<dd>https://calendar.google.com/calendar/render</dd>
								</dl>
							</div>
							<div class="btn-group pull-right">
								<button type="button" class="btn btn-success btn-xs text-uppercase"><span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> &nbsp; Open &nbsp;</button>
								<button type="button" class="btn btn-success btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" tabindex="0">
									<span class="caret"></span>
									<span class="sr-only">Toggle Dropdown</span>
								</button>
								<ul class="dropdown-menu dropdown-menu-right">
									<li class="small">
										<a href="javascript:alert(this.className);">
											<span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> &nbsp; Open Window
										</a>
									</li>
									<li class="divider" role="separator"></li>
									<li class="small">
										<a href="javascript:alert(this.className);">
											<span class="glyphicon glyphicon-cog" aria-hidden="true"></span> &nbsp; Edit This Account
										</a>
									</li>
									<li class="small">
										<a href="javascript:alert(this.className);">
											<span class="glyphicon glyphicon-triangle-top" aria-hidden="true"></span> &nbsp; Up
										</a>
									</li>
									<li class="small">
										<a href="javascript:alert(this.className);">
											<span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true"></span> &nbsp; Down
										</a>
									</li>
									<li class="divider" role="separator"></li>
									<li class="small">
										<a href="javascript:alert(this.className);">
											<span class="glyphicon glyphicon-remove" aria-hidden="true"></span> &nbsp; Remove This Account
										</a>
									</li>
								</ul>
							</div>
						</td>
					</tr>
					<tr class="row clearfix" data-toggle="tooltip" id="account3">
						<td class="text-center"><span>3</span></td>
						<td class="text-left"  >
							<span class="icon"><img src="./img/spinner.gif"></span>
							<a href="javascript:void(0);">
								Masaki.Hojo@gmail.com
							</a>
							<div class="hide tooltip-html">
								<dl class="dl-horizontal">
									<dt><span class="icon"><img src="./img/spinner-black.gif"></span></dt>
									<dd>hogehoge@hogehoge.com</dd>
									<dt><span class="icon"><img src="./img/spinner-black.gif"></span></dt>
									<dd>https://calendar.google.com/calendar/render</dd>
								</dl>
							</div>
							<div class="btn-group pull-right">
								<button type="button" class="btn btn-success btn-xs text-uppercase"><span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> &nbsp; Open &nbsp;</button>
								<button type="button" class="btn btn-success btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" tabindex="0">
									<span class="caret"></span>
									<span class="sr-only">Toggle Dropdown</span>
								</button>
								<ul class="dropdown-menu dropdown-menu-right">
									<li class="small">
										<a href="javascript:alert(this.className);">
											<span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> &nbsp; Open Window
										</a>
									</li>
									<li class="divider" role="separator"></li>
									<li class="small">
										<a href="javascript:alert(this.className);">
											<span class="glyphicon glyphicon-cog" aria-hidden="true"></span> &nbsp; Edit This Account
										</a>
									</li>
									<li class="small">
										<a href="javascript:alert(this.className);">
											<span class="glyphicon glyphicon-triangle-top" aria-hidden="true"></span> &nbsp; Up
										</a>
									</li>
									<li class="small">
										<a href="javascript:alert(this.className);">
											<span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true"></span> &nbsp; Down
										</a>
									</li>
									<li class="divider" role="separator"></li>
									<li class="small">
										<a href="javascript:alert(this.className);">
											<span class="glyphicon glyphicon-remove" aria-hidden="true"></span> &nbsp; Remove This Account
										</a>
									</li>
								</ul>
							</div>
						</td>
					</tr>
					<tr class="row clearfix">
						<td class="text-center"><span>4</span></td>
						<td class="text-left"  >
							<a class="pull-left" href="javascript:void(0);">Masaki.Hojo@gmail.com</a>
							<div class="buttons pull-right">
								<button class="glyphicon glyphicon-triangle-top btn btn-default btn-xs" aria-hidden="true" onclick="alert(this.className);"></button>
								<button class="glyphicon glyphicon-triangle-bottom btn btn-default btn-xs" aria-hidden="true" onclick="alert(this.className);"></button>
								<button class="glyphicon glyphicon-cog btn btn-warning btn-xs" aria-hidden="true" onclick="alert(this.className);"></button>
								<button class="glyphicon glyphicon-new-window btn btn-success btn-xs" aria-hidden="true" onclick="alert(this.className);"></button>
							</div>
						</td>
					</tr>
-->
				</tbody>
				<tfoot>
					<tr class="row clearfix warning">
						<td class="text-center">&nbsp;</td>
						<td class="text-left"  >
							<div class="pull-left">Do you want to add another account?</div>
							<div class="buttons pull-right">
								<button class="glyphicon glyphicon-plus btn btn-primary btn-xs" aria-hidden="true" id="button-add"></button>
							</div>
						</td>
					</tr>
				</tfoot>
<!--
				<thead>
					<tr class="row info">
						<th class="text-center"><span>#</span></th>
						<th class="text-left"  ><span>Account</span></th>
						<th class="text-center"><span>Action</span></th>
					</tr>
				</thead>
				</tbody>
					<tr class="row">
						<td class="text-center"><span>1</span></td>
						<td class="text-left"  ><span>Masaki.Hojo@gmail.com</span></td>
						<td class="text-center">
							<button class="btn btn-xs btn-success text-uppercase">OPEN</button>
							<div class="pull-right btn-xs spin-box">
								<span class="glyphicon glyphicon-triangle-top" aria-hidden="true" onclick="alert(this.className);"></span>
								<span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true" onclick="alert(this.className);"></span>
							</div>
						</td>
					</tr>
					<tr class="row">
						<td class="text-center"><span>2</span></td>
						<td class="text-left"  ><span>hojo@ifollow.co.jp</span></td>
						<td class="text-center">
							<button class="btn btn-xs btn-success text-uppercase">OPEN</button>
							<button class="glyphicon glyphicon-triangle-top btn btn-default btn-xs" aria-hidden="true" onclick="alert(this.className);"></button>
							<button class="glyphicon glyphicon-triangle-bottom btn btn-default btn-xs" aria-hidden="true" onclick="alert(this.className);"></button>
						</td>
					</tr>
					<tr class="row">
						<td class="text-center"><span>3</span></td>
						<td class="text-left"  ><span>hojo@i3design.co.jp</span></td>
						<td class="text-center">
							<button class="btn btn-xs btn-success text-uppercase">OPEN</button>
							<div class="pull-right btn-xs" style="width: 14px; line-height: 8px; margin: -2px 8px 0 -8px;">
								<span class="glyphicon glyphicon-triangle-top" aria-hidden="true" style="cursor: pointer; touch-action: manipulation;" onclick="alert(this.className);"></span>
								<span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true" style="cursor: pointer; touch-action: manipulation;" onclick="alert(this.className);"></span>
							</div>
						</td>
					</tr>
					<tr class="row">
						<td class="text-center"><span>4</span></td>
						<td class="text-left"  ><span>hojo@salesone.co.jp</span></td>
						<td class="text-center">
							<button class="btn btn-xs btn-success text-uppercase">OPEN</button>
							<div class="pull-right btn-xs" style="width: 14px; line-height: 8px; margin: -2px 8px 0 -8px;">
								<span class="glyphicon glyphicon-triangle-top" aria-hidden="true" style="cursor: pointer; touch-action: manipulation;" onclick="alert(this.className);"></span>
								<span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true" style="cursor: pointer; touch-action: manipulation;" onclick="alert(this.className);"></span>
							</div>
						</td>
					</tr>
					<tr class="row">
						<td class="text-center"><span>4</span></td>
						<td class="text-left"  ><span>hojo@salesone.co.jp</span></td>
						<td class="text-center">
							<button class="btn btn-xs btn-success text-uppercase">OPEN</button>
							<div class="pull-right btn-xs" style="width: 14px; line-height: 8px; margin: -2px 8px 0 -8px;">
								<span class="glyphicon glyphicon-triangle-top" aria-hidden="true" style="cursor: pointer; touch-action: manipulation;" onclick="alert(this.className);"></span>
								<span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true" style="cursor: pointer; touch-action: manipulation;" onclick="alert(this.className);"></span>
							</div>
						</td>
					</tr>
					<tr class="row">
						<td class="text-center"><span>4</span></td>
						<td class="text-left"  ><span>hojo@salesone.co.jp</span></td>
						<td class="text-center">
							<button class="btn btn-xs btn-success text-uppercase">OPEN</button>
							<div class="pull-right btn-xs" style="width: 14px; line-height: 8px; margin: -2px 8px 0 -8px;">
								<span class="glyphicon glyphicon-triangle-top" aria-hidden="true" style="cursor: pointer; touch-action: manipulation;" onclick="alert(this.className);"></span>
								<span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true" style="cursor: pointer; touch-action: manipulation;" onclick="alert(this.className);"></span>
							</div>
						</td>
					</tr>
					<tr class="row">
						<td class="text-center"><span>4</span></td>
						<td class="text-left"  ><span>hojo@salesone.co.jp</span></td>
						<td class="text-center">
							<button class="btn btn-xs btn-success text-uppercase">OPEN</button>
							<div class="pull-right btn-xs" style="width: 14px; line-height: 8px; margin: -2px 8px 0 -8px;">
								<span class="glyphicon glyphicon-triangle-top" aria-hidden="true" style="cursor: pointer; touch-action: manipulation;" onclick="alert(this.className);"></span>
								<span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true" style="cursor: pointer; touch-action: manipulation;" onclick="alert(this.className);"></span>
							</div>
						</td>
					</tr>
					<tr class="row">
						<td class="text-center"><span>4</span></td>
						<td class="text-left"  ><span>hojo@salesone.co.jp</span></td>
						<td class="text-center">
							<button class="btn btn-xs btn-success text-uppercase">OPEN</button>
							<div class="pull-right btn-xs" style="width: 14px; line-height: 8px; margin: -2px 8px 0 -8px;">
								<span class="glyphicon glyphicon-triangle-top" aria-hidden="true" style="cursor: pointer; touch-action: manipulation;" onclick="alert(this.className);"></span>
								<span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true" style="cursor: pointer; touch-action: manipulation;" onclick="alert(this.className);"></span>
							</div>
						</td>
					</tr>
				</tbody>
				<tfoot>
					<tr class="row clearfix warning">
						<td class="text-center">&nbsp;</td>
						<td class="text-left"  ><span>Do you want to add another account?</span></td>
						<td class="text-center">
							<button class="btn btn-xs btn-primary text-uppercase" id="button-add">Add</button>
						</td>
					</tr>
				</tfoot>
-->
			</table>
			<table class="table table-striped table-bordered accounts hide" id="account-template">
				<tr class="row clearfix account-block">
					<td class="text-center"><span class="account-seq">#</span></td>
					<td class="text-left" data-toggle="tooltip">
						<span class="icon"><img class="account-icon" src="./img/spinner.gif"></span>
						<a href="javascript:void(0);" data-account-name="account-name" data-action="open">
							<span class="account-name">account-name</span>
						</a>
						<div class="hide tooltip-html">
							<ul class="list-unstyled">
								<li class="text-left">
									<span class="icon"><img class="account-icon" src="./img/spinner-black.gif"></span>
									<span class="account-name">account-name</span>
								</li>
								<li class="text-left">
									<span class="icon"><img class="account-service-icon" src="./img/spinner-black.gif"></span>
									<span class="account-service-url">https://calendar.google.com/calendar/render</span>
								</li>
							</ul>
						</div>
						<div class="btn-group pull-right">
							<button type="button" class="btn btn-success btn-xs text-uppercase" data-account-name="account-name" data-action="open"><span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> &nbsp; Open &nbsp;</button>
							<button type="button" class="btn btn-success btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" tabindex="0">
								<span class="caret"></span>
								<span class="sr-only">Toggle Dropdown</span>
							</button>
							<ul class="dropdown-menu dropdown-menu-right">
								<li class="small">
									<a href="javascript:alert(this.className);" data-account-name="account-name" data-action="open">
										<span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> &nbsp; Open Window
									</a>
								</li>
								<li class="divider" role="separator"></li>
								<li class="small">
									<a href="javascript:alert(this.className);" data-account-name="account-name">
										<span class="glyphicon glyphicon-cog" aria-hidden="true"></span> &nbsp; Edit This Account
									</a>
								</li>
								<li class="small">
									<a href="javascript:alert(this.className);" data-account-name="account-name">
										<span class="glyphicon glyphicon-triangle-top" aria-hidden="true"></span> &nbsp; Up
									</a>
								</li>
								<li class="small">
									<a href="javascript:alert(this.className);" data-account-name="account-name">
										<span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true"></span> &nbsp; Down
									</a>
								</li>
								<li class="divider" role="separator"></li>
								<li class="small">
									<a href="javascript:alert(this.className);" data-account-name="account-name">
										<span class="glyphicon glyphicon-remove" aria-hidden="true"></span> &nbsp; Remove This Account
									</a>
								</li>
							</ul>
						</div>
					</td>
				</tr>
			</table>

<!--
							<dl class="dl-horizontal">
								<dt><span class="icon"><img class="account-icon" src="./img/spinner-black.gif"></span></dt>
								<dd><span class="account-name">account-name</span></dd>
								<dt><span class="icon"><img class="account-service-icon" src="./img/spinner-black.gif"></span></dt>
								<dd><span class="account-service-url">https://calendar.google.com/calendar/render</span></dd>
							</dl>
-->
		</div>
		<div id="footer-bg" style="display:none">
		</div>
	</div>
	<script type="text/javascript">
		// 初期処理
		require(__dirname + '/libs/$IF.js');
		$IF.get('./libs/Log.js');
		Log.info('Open menu window. [pid=' + process.pid + ']');
		// require('./lib/MemoryUsage').init('menu'); @todo

		// onready
		$(function(){
			// 閉じるボタン
			$('#button-quit').on('click', function(){
				$IF.quit();
			});
			// 再読み込みボタン
			$('#button-reload').on('click', function(){
				location.reload();
			});

			// アカウントデータ取得
			const data = $IF.getMain('./libs/Config.js').getAccounts();

			/**
			 * 各ウィンドウを開く
			 *
			 * @method
			 * @return  {Boolean}   true
			 * @private
			 */
			const openWindow = function openWindow() {
				let self = $(this);
				let name = self.attr('data-account-name');
Log.info(__HERE__, name);
				let EachWindow = $IF.getMain('./libs/EachWindow.js');
				EachWindow.create(name, {});
				EachWindow.show(name);
				return true;
			};

			const accounts = $('#accounts tbody');
			const template = $('#account-template .account-block');
			let   self     = null;
			let   each     = {};
			let   seq      = 0;
			for ( let key in data ) {
				seq++;
				each       = data[key];
				self       = template.clone(true);
				self.find('.account-name'           ).html(each.name);
				self.find('.account-seq'            ).html(seq);
				self.find('.account-icon'           ).attr('src',                    __DATA__ + SEP + each.icon);
				self.find('.account-service-icon'   ).attr('src',                    __DATA__ + SEP + each.svcicon);
				self.find('.account-service-url'    ).html(each.svcurl);
				self.find('[data-toggle="tooltip"]' ).tooltip({
					animation:  true,
					delay:      500,
					placement:  'top',
					trigger:    'hover focus',
					html:       'true',
					title:      self.find('.tooltip-html').html(),
				});
				self.find('[data-account-name]'     ).attr('data-account-name',      each.name);
				self.find('[data-account-partition]').attr('data-account-partition', each.partition);
				self.find('[data-action="open"]'    ).on('click', openWindow);
				accounts.append(self);
			}
		});

/*
$('.account-block-zzz').each(function(){
	var $that = $(this);
	$that.find('.account-name'        ).html('account-is-hogehoge+ahogehoge@long.domain.name.com.info');
	$that.find('.account-seq'         ).html('99');
	$that.find('.account-icon'        ).attr('src', './img/favicon.ico');
	console.log($that.find('.account-service-icon'));
	$that.find('.account-service-icon').attr('src', './img/spinner.gif');
	$that.find('.account-service-url' ).html('https://hoge.com/hogehoge');
	$that.find('[data-toggle="tooltip"]').tooltip({
		animation:  true,
		delay:      500,
		placement:  'top',
		trigger:    'hover focus',
		html:       'true',
		title:      $that.find('.tooltip-html').html(),
	});
});
*/

/*
			$('#accounts [data-toggle="tooltip"]').each(function(){
				var $that = $(this)
				$that.tooltip({
					animation:  true,
					delay:      500,
					placement:  'top',
					trigger:    'hover focus',
					html:       'true',
					title:      $that.find('.tooltip-html').html(),
				});
			});
*/

	</script>
	<script type="text/javascript" src="js/bootstrap-honoka.min.js"></script>
</body>
</html>
